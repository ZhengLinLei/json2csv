const json2csv=(json,del=",")=>{if(del=del||",","string"==typeof json&&(json=JSON.parse(json)),!Array.isArray(json))throw new Error("First argument must be an array");const keys=Object.keys(json[0]);let csv=`${keys.join(del)}\n`;return json.forEach(row=>{if(Object.keys(row).toString()!=keys.toString())throw new Error("All objects must have the same keys");const values=Object.values(row).join(del);csv+=`${values}\n`}),csv};"undefined"!=typeof module&&(module.exports=json2csv);